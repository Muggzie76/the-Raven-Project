const fs=require("fs"),path=require("path"),sharp=require("sharp"),imagesDir=path.join(__dirname,"images"),imageFiles=fs.readdirSync(imagesDir).filter((e=>{const o=path.extname(e).toLowerCase();return".jpg"===o||".jpeg"===o||".png"===o}));async function convertToWebP(){console.log("Converting images to WebP format...");for(const e of imageFiles){const o=path.join(imagesDir,e),r=path.join(imagesDir,`${path.parse(e).name}.webp`);try{await sharp(o).webp({quality:80}).toFile(r),console.log(`Converted ${e} to WebP format`)}catch(o){console.error(`Error converting ${e}: ${o.message}`)}}console.log("Conversion complete!")}convertToWebP().catch((e=>{console.error("Error during conversion:",e)}));